{"version":3,"sources":["webpack:///static/js/0.887dd1fb142e813cc896.js","webpack:///./src/components/singer/singer.vue","webpack:///./src/api/singer.js","webpack:///./src/base/listview/listview.vue?3dfc","webpack:///./src/components/singer/singer.vue?1b8c","webpack:///./src/base/listview/listview.vue","webpack:///./src/base/listview/listview.vue?05d1","webpack:///./src/components/singer/singer.vue?7d62","webpack:///./src/base/listview/listview.vue?22ca","webpack:///./src/components/singer/singer.vue?0ad3","webpack:///listview.vue","webpack:///singer.vue"],"names":["webpackJsonp","546","module","exports","__webpack_require__","injectStyle","ssrContext","Component","556","__webpack_exports__","getSingerList","data","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__config_js__","channel","page","key","pagesize","pagenum","hostUin","platform","needNewCode","g_tk","i","__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__","getSingerDetail","singerId","order","begin","num","singermid","songstatus","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","n","562","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","563","567","574","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","listenScroll","probeType","on","scroll","_l","group","refInFor","_v","_s","title","item","click","$event","selectItem","directives","name","rawName","value","expression","touchstart","onShortcutTouchStart","touchmove","stopPropagation","preventDefault","onShortcutTouchMove","index","class","current","currentIndex","data-index","fixedTitle","length","staticRenderFns","575","singers","select","selectSinger","584","content","locals","585","589","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll__","__WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll___default","__WEBPACK_IMPORTED_MODULE_1_base_loading_loading__","__WEBPACK_IMPORTED_MODULE_1_base_loading_loading___default","__WEBPACK_IMPORTED_MODULE_2_common_js_dom_js__","props","type","Array","default","scrollY","diff","created","touch","listHeight","computed","shortcutList","map","substring","methods","e","anchorIndex","target","firstTouch","touches","y1","pageY","_scrollTo","y2","delta","parseInt","refresh","$refs","listview","pos","y","console","log","scrollToElement","listgroup","_calculateHeight","list","height","clientHeight","$emit","watch","_this","setTimeout","newY","h1","h2","newVal","fixedTop","fixed","style","transform","components","Scroll","a","Loading","596","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_api_singer_js__","__WEBPACK_IMPORTED_MODULE_2_api_config__","__WEBPACK_IMPORTED_MODULE_3_common_js_singer_js__","__WEBPACK_IMPORTED_MODULE_4_base_listview_listview__","__WEBPACK_IMPORTED_MODULE_4_base_listview_listview___default","__WEBPACK_IMPORTED_MODULE_5_vuex__","__WEBPACK_IMPORTED_MODULE_6_common_js_mixin__","mixins","_getSingerList","handlePlayList","playList","bottom","singer","$router","path","id","setSinger","then","res","code","_normalizeSinger","hot","items","forEach","Fsinger_mid","Fsinger_name","Findex","ret","val","match","sort","b","charCodeAt","concat","ListView"],"mappings":"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","file":"static/js/0.887dd1fb142e813cc896.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 546:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(585)\n}\nvar Component = __webpack_require__(8)(\n  /* script */\n  __webpack_require__(596),\n  /* template */\n  __webpack_require__(575),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-51a6efa9\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 556:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getSingerList;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getSingerDetail;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__ = __webpack_require__(186);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_js__ = __webpack_require__(62);\n\n\n\n\nfunction getSingerList() {\n\tvar url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg';\n\n\tvar data = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_2__config_js__[\"b\" /* commonParams */], {\n\t\tchannel: 'singer',\n\t\tpage: 'list',\n\t\tkey: 'all_all_all',\n\t\tpagesize: 100,\n\t\tpagenum: 1,\n\t\thostUin: 0,\n\t\tplatform: 'yqq',\n\t\tneedNewCode: 0,\n\t\tg_tk: 5381\n\n\t});\n\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__[\"a\" /* default */])(url, data, __WEBPACK_IMPORTED_MODULE_2__config_js__[\"c\" /* options */]);\n}\n\nfunction getSingerDetail(singerId) {\n\tvar url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg';\n\tvar data = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_2__config_js__[\"b\" /* commonParams */], {\n\t\torder: 'listen',\n\t\tbegin: 0,\n\t\tnum: 80,\n\t\tsingermid: singerId,\n\t\tplatform: 'yqq',\n\t\tneedNewCode: 0,\n\t\thostUin: 0,\n\t\tsongstatus: 1\n\t});\n\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__[\"a\" /* default */])(url, data, __WEBPACK_IMPORTED_MODULE_2__config_js__[\"c\" /* options */]);\n}\n\n/***/ }),\n\n/***/ 562:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(539)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".listview[data-v-50569384]{position:relative;width:100%;height:100%;overflow:hidden;background:#222}.listview .list-group .list-group-title[data-v-50569384]{height:30px;line-height:30px;padding-left:20px;font-size:12px;color:hsla(0,0%,100%,.5);background:#333}.listview .list-group .list-group-item[data-v-50569384]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;padding:15px 20px}.listview .list-group .list-group-item[data-v-50569384] :hover{background-color:#333}.listview .list-group .list-group-item .avatar[data-v-50569384]{-webkit-box-flex:0;-ms-flex:0 0 60px;flex:0 0 60px;width:60px;height:60px;border-radius:50%;margin-right:20px}.listview .list-group .list-group-item .name[data-v-50569384]{-webkit-box-flex:1;-ms-flex:1;flex:1;line-height:60px}.listview .list-shortcut[data-v-50569384]{position:absolute;top:50px;right:0;z-index:30;width:20px;padding:20px 0;border-radius:10px;text-align:center;background:rgba(0,0,0,.3);transfrom:translateY(-50%);color:hsla(0,0%,100%,.5)}.listview .list-shortcut .item[data-v-50569384]{padding:3px;line-height:1;color:hsla(0,0%,100%,.5);font-size:12px}.listview .list-shortcut .item.current[data-v-50569384]{color:#ffcd32}.listview .list-fixed[data-v-50569384]{position:absolute;top:0;left:0;height:30px;line-height:30px;width:100%;background:#333;color:hsla(0,0%,100%,.5);font-size:12px;padding-left:20px}.listview .loading[data-v-50569384]{position:relative;top:50px;left:0;width:100%}\", \"\", {\"version\":3,\"sources\":[\"D:/workspace/music-player/src/base/listview/listview.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAiB,CAClB,AACD,yDACE,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAA6B,AAC7B,eAAiB,CAClB,AACD,wDACE,WAAY,AACZ,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,iBAAmB,CACpB,AACD,+DACE,qBAAuB,CACxB,AACD,gEACE,mBAAoB,AAChB,kBAAmB,AACf,cAAe,AACvB,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,iBAAmB,CACpB,AACD,8DACE,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,gBAAkB,CACnB,AACD,0CACE,kBAAmB,AACnB,SAAU,AACV,QAAW,AACX,WAAY,AACZ,WAAY,AACZ,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,0BAA4B,AAC5B,2BAA4B,AAC5B,wBAA6B,CAC9B,AACD,gDACE,YAAa,AACb,cAAe,AACf,yBAA6B,AAC7B,cAAgB,CACjB,AACD,wDACE,aAAe,CAChB,AACD,uCACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,gBAAiB,AACjB,yBAA6B,AAC7B,eAAgB,AAChB,iBAAmB,CACpB,AACD,oCACE,kBAAmB,AACnB,SAAU,AACV,OAAQ,AACR,UAAY,CACb\",\"file\":\"listview.vue\",\"sourcesContent\":[\"\\n.listview[data-v-50569384] {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #222;\\n}\\n.listview .list-group .list-group-title[data-v-50569384] {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: rgba(255,255,255,0.5);\\n  background: #333;\\n}\\n.listview .list-group .list-group-item[data-v-50569384] {\\n  width: 100%;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  padding: 15px 20px;\\n}\\n.listview .list-group .list-group-item[data-v-50569384] :hover {\\n  background-color: #333;\\n}\\n.listview .list-group .list-group-item .avatar[data-v-50569384] {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 60px;\\n          flex: 0 0 60px;\\n  width: 60px;\\n  height: 60px;\\n  border-radius: 50%;\\n  margin-right: 20px;\\n}\\n.listview .list-group .list-group-item .name[data-v-50569384] {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  line-height: 60px;\\n}\\n.listview .list-shortcut[data-v-50569384] {\\n  position: absolute;\\n  top: 50px;\\n  right: 0px;\\n  z-index: 30;\\n  width: 20px;\\n  padding: 20px 0;\\n  border-radius: 10px;\\n  text-align: center;\\n  background: rgba(0,0,0,0.3);\\n  transfrom: translateY(-50%);\\n  color: rgba(255,255,255,0.5);\\n}\\n.listview .list-shortcut .item[data-v-50569384] {\\n  padding: 3px;\\n  line-height: 1;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 12px;\\n}\\n.listview .list-shortcut .item.current[data-v-50569384] {\\n  color: #ffcd32;\\n}\\n.listview .list-fixed[data-v-50569384] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 30px;\\n  line-height: 30px;\\n  width: 100%;\\n  background: #333;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 12px;\\n  padding-left: 20px;\\n}\\n.listview .loading[data-v-50569384] {\\n  position: relative;\\n  top: 50px;\\n  left: 0;\\n  width: 100%;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 563:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(539)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".singer[data-v-51a6efa9]{position:fixed;top:88px;bottom:0;width:100%}\", \"\", {\"version\":3,\"sources\":[\"D:/workspace/music-player/src/components/singer/singer.vue\"],\"names\":[],\"mappings\":\"AACA,yBACE,eAAgB,AAChB,SAAU,AACV,SAAU,AACV,UAAY,CACb\",\"file\":\"singer.vue\",\"sourcesContent\":[\"\\n.singer[data-v-51a6efa9] {\\n  position: fixed;\\n  top: 88px;\\n  bottom: 0;\\n  width: 100%;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 567:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(584)\n}\nvar Component = __webpack_require__(8)(\n  /* script */\n  __webpack_require__(589),\n  /* template */\n  __webpack_require__(574),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-50569384\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 574:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('scroll', {\n    ref: \"listview\",\n    staticClass: \"listview\",\n    attrs: {\n      \"data\": _vm.data,\n      \"listenScroll\": _vm.listenScroll,\n      \"probeType\": _vm.probeType\n    },\n    on: {\n      \"scroll\": _vm.scroll\n    }\n  }, [_c('ul', _vm._l((_vm.data), function(group) {\n    return _c('li', {\n      ref: \"listgroup\",\n      refInFor: true,\n      staticClass: \"list-group\"\n    }, [_c('h2', {\n      staticClass: \"list-group-title\"\n    }, [_vm._v(_vm._s(group.title))]), _vm._v(\" \"), _c('ul', _vm._l((group.items), function(item) {\n      return _c('li', {\n        staticClass: \"list-group-item\",\n        on: {\n          \"click\": function($event) {\n            _vm.selectItem(item)\n          }\n        }\n      }, [_c('img', {\n        directives: [{\n          name: \"lazy\",\n          rawName: \"v-lazy\",\n          value: (item.avatar),\n          expression: \"item.avatar\"\n        }],\n        staticClass: \"avatar\"\n      }), _vm._v(\" \"), _c('span', {\n        staticClass: \"name\"\n      }, [_vm._v(_vm._s(item.name))])])\n    }))])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"list-shortcut\",\n    on: {\n      \"touchstart\": _vm.onShortcutTouchStart,\n      \"touchmove\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.onShortcutTouchMove($event)\n      }\n    }\n  }, [_c('ul', _vm._l((_vm.shortcutList), function(item, index) {\n    return _c('li', {\n      staticClass: \"item\",\n      class: {\n        'current': _vm.currentIndex === index\n      },\n      attrs: {\n        \"data-index\": index\n      }\n    }, [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(item) + \"\\n\\t\\t\\t\")])\n  }))]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.fixedTitle),\n      expression: \"fixedTitle \"\n    }],\n    ref: \"fixed\",\n    staticClass: \"list-fixed\"\n  }, [_c('h1', {\n    staticClass: \"fixed-title\"\n  }, [_vm._v(_vm._s(_vm.fixedTitle))])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.data.length),\n      expression: \"!data.length\"\n    }],\n    staticClass: \"loading\"\n  }, [_c('loading')], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 575:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"singer\",\n    staticClass: \"singer\"\n  }, [_c('list-view', {\n    ref: \"list\",\n    attrs: {\n      \"data\": _vm.singers\n    },\n    on: {\n      \"select\": _vm.selectSinger\n    }\n  }), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 584:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(562);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(540)(\"0473942a\", content, true);\n\n/***/ }),\n\n/***/ 585:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(563);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(540)(\"a1f60a0c\", content, true);\n\n/***/ }),\n\n/***/ 589:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_base_loading_loading__ = __webpack_require__(185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_base_loading_loading___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_base_loading_loading__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_common_js_dom_js__ = __webpack_require__(122);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\nvar ANCHOR_HEIGHT = 18;\nvar TITLE_HEIGHT = 30;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\tdata: function data() {\n\t\treturn {\n\t\t\tscrollY: -1,\n\t\t\tcurrentIndex: 0,\n\t\t\tdiff: -1\n\t\t};\n\t},\n\tcreated: function created() {\n\t\tthis.touch = {};\n\t\tthis.listenScroll = true;\n\t\tthis.listHeight = [];\n\t\tthis.probeType = 3;\n\t},\n\n\tcomputed: {\n\t\tshortcutList: function shortcutList() {\n\t\t\treturn this.data.map(function (group) {\n\t\t\t\treturn group.title.substring(0, 1);\n\t\t\t});\n\t\t},\n\t\tfixedTitle: function fixedTitle() {\n\t\t\tif (this.scrollY > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn this.data[this.currentIndex] ? this.data[this.currentIndex].title : '';\n\t\t}\n\t},\n\tmethods: {\n\t\t// 右侧导航相关操作事件\n\t\tonShortcutTouchStart: function onShortcutTouchStart(e) {\n\t\t\tvar anchorIndex = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_common_js_dom_js__[\"b\" /* getData */])(e.target, 'index');\n\t\t\t// e.touches[0]是手指最初的位置 要保存其pageY\n\t\t\tvar firstTouch = e.touches[0];\n\t\t\tthis.touch.y1 = firstTouch.pageY;\n\t\t\t// 初始化记录当前锚点索引\n\t\t\tthis.touch.anchorIndex = anchorIndex;\n\t\t\tthis._scrollTo(anchorIndex);\n\t\t},\n\t\tonShortcutTouchMove: function onShortcutTouchMove(e) {\n\t\t\t// 计算从touchstart到touchmove滚动的位置，计算当前位置与一开始滚动的位置的距离差\n\t\t\tvar firstTouch = e.touches[0];\n\t\t\tthis.touch.y2 = firstTouch.pageY;\n\t\t\tvar delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0;\n\t\t\t// 再次记录move的时候的锚点索引 this.touch.anchorIndex是一个字符串 delta是一个数字 两者直接相加会出错\n\t\t\tvar anchorIndex = parseInt(this.touch.anchorIndex) + delta;\n\t\t\t// 可以得到move的时候可以滚动到第几个位置\n\t\t\tthis._scrollTo(anchorIndex);\n\t\t},\n\t\trefresh: function refresh() {\n\t\t\tthis.$refs.listview.refresh();\n\t\t},\n\t\tscroll: function scroll(pos) {\n\t\t\tthis.scrollY = pos.y;\n\t\t},\n\n\t\t// 滚动到指定位置\n\t\t_scrollTo: function _scrollTo(index) {\n\t\t\tconsole.log(index);\n\t\t\tif (!index && index !== 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (index < 0) {\n\t\t\t\tindex = 0;\n\t\t\t} else if (index > this.listHeight - 2) {\n\t\t\t\tindex = this.listHeight - 2;\n\t\t\t}\n\t\t\tthis.scrollY = -this.listHeight[index];\n\t\t\t// this.$refs.listgroup[anchorIndex] ????????\n\t\t\tthis.$refs.listview.scrollToElement(this.$refs.listgroup[index], 0);\n\t\t},\n\n\t\t// 调用时机： 当传给listview的data发生变化的时候要去计算高度\n\t\t_calculateHeight: function _calculateHeight() {\n\t\t\tthis.listHeight = [];\n\t\t\tvar list = this.$refs.listgroup;\n\t\t\tvar height = 0;\n\t\t\tthis.listHeight.push(height);\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\tvar item = list[i];\n\t\t\t\theight += item.clientHeight;\n\t\t\t\tthis.listHeight.push(height);\n\t\t\t}\n\t\t},\n\n\t\t// 派发事件\n\t\tselectItem: function selectItem(item) {\n\t\t\tthis.$emit('select', item);\n\t\t}\n\t},\n\twatch: {\n\t\t// 当data变化的时候 重新计算高度\n\t\tdata: function data() {\n\t\t\tvar _this = this;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t_this._calculateHeight();\n\t\t\t}, 20);\n\t\t},\n\t\tscrollY: function scrollY(newY) {\n\t\t\tvar listHeight = this.listHeight;\n\t\t\t// 当滚动到顶部 newY > 0\n\t\t\tif (newY > 0) {\n\t\t\t\tthis.currentIndex = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 当在中间部分滚动时\n\t\t\tfor (var i = 0; i < listHeight.length - 1; i++) {\n\t\t\t\tvar h1 = listHeight[i];\n\t\t\t\tvar h2 = listHeight[i + 1];\n\t\t\t\t// !h2 变量的最后一个的情况 newY是一个负值 盖度计算都是正值\n\t\t\t\tif (-newY >= h1 && -newY < h2) {\n\t\t\t\t\tthis.currentIndex = i;\n\t\t\t\t\t// 在中间滚动的时候 上限h2 减去滚动的高度newY（负值） 就是 diff\n\t\t\t\t\tthis.diff = h2 + newY;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 当滚动到底部 且 -newY大于最后一个元素的上限\n\t\t\tthis.currentIndex = listHeight.length - 2;\n\t\t},\n\t\tdiff: function diff(newVal) {\n\t\t\t// 向上偏移是负值\n\t\t\tvar fixedTop = newVal > 0 && newVal < TITLE_HEIGHT ? newVal - TITLE_HEIGHT : 0;\n\t\t\t//  diff是实时变化的 当new\n\t\t\tif (this.fixedTop === fixedTop) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.fixedTop = fixedTop;\n\t\t\tthis.$refs.fixed.style.transform = 'translate3d(0, ' + fixedTop + 'px, 0)';\n\t\t}\n\t},\n\tcomponents: {\n\t\tScroll: __WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll___default.a,\n\t\tLoading: __WEBPACK_IMPORTED_MODULE_1_base_loading_loading___default.a\n\t}\n});\n\n/***/ }),\n\n/***/ 596:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_api_singer_js__ = __webpack_require__(556);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_api_config__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_common_js_singer_js__ = __webpack_require__(197);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_base_listview_listview__ = __webpack_require__(567);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_base_listview_listview___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_base_listview_listview__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vuex__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_common_js_mixin__ = __webpack_require__(81);\n\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n// vuex的语法糖 vuex对数据的获取和修改提供了一系列的语法糖\n// 如果不用语法糖 需要写很长的代码 mapMutations对mutations做了一层封装\n\n\n\nvar HOT_NAME = '热门';\nvar HOT_SINGER_LEN = 10;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tmixins: [__WEBPACK_IMPORTED_MODULE_6_common_js_mixin__[\"c\" /* playListMixin */]],\n\tdata: function data() {\n\t\treturn {\n\t\t\tsingers: []\n\t\t};\n\t},\n\tcreated: function created() {\n\t\tthis._getSingerList();\n\t},\n\n\tmethods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n\t\t// 当播放歌曲页面在底部最小化显示时 控制本组件的底部距离视口底部一定的距离 避免内容被底部的最小化歌曲播放条遮住\n\t\thandlePlayList: function handlePlayList(playList) {\n\t\t\t// 设置组件距离视口底部的距离\n\t\t\tvar bottom = playList.length > 0 ? '60px' : '';\n\t\t\tthis.$refs.singer.style.bottom = bottom;\n\t\t\t// 刷新列表vielist组件\n\t\t\tthis.$refs.list.refresh();\n\t\t},\n\t\tselectSinger: function selectSinger(singer) {\n\t\t\tthis.$router.push({\n\t\t\t\tpath: '/singer/' + singer.id\n\t\t\t});\n\t\t\tthis.setSinger(singer); // 就实现了对mutation的提交\n\t\t},\n\t\t_getSingerList: function _getSingerList() {\n\t\t\tvar _this = this;\n\n\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_api_singer_js__[\"b\" /* getSingerList */])().then(function (res) {\n\t\t\t\tif (res.code === __WEBPACK_IMPORTED_MODULE_2_api_config__[\"a\" /* ERR_OK */]) {\n\t\t\t\t\t_this.singers = _this._normalizeSinger(res.data.list);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 将得到的数据修改为我们需要的\n\t\t_normalizeSinger: function _normalizeSinger(list) {\n\t\t\tvar map = {\n\t\t\t\thot: {\n\t\t\t\t\ttitle: HOT_NAME,\n\t\t\t\t\titems: []\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlist.forEach(function (item, index) {\n\t\t\t\tif (index < HOT_SINGER_LEN) {\n\t\t\t\t\tmap.hot.items.push(new __WEBPACK_IMPORTED_MODULE_3_common_js_singer_js__[\"a\" /* default */]({\n\t\t\t\t\t\tid: item.Fsinger_mid,\n\t\t\t\t\t\tname: item.Fsinger_name\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\tvar key = item.Findex;\n\t\t\t\t// 如果没有以这个key为聚合的对象的话 就创建一个\n\t\t\t\tif (!map[key]) {\n\t\t\t\t\tmap[key] = {\n\t\t\t\t\t\ttitle: key,\n\t\t\t\t\t\titems: []\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tmap[key].items.push(new __WEBPACK_IMPORTED_MODULE_3_common_js_singer_js__[\"a\" /* default */]({\n\t\t\t\t\tid: item.Fsinger_mid,\n\t\t\t\t\tname: item.Fsinger_name\n\t\t\t\t}));\n\t\t\t});\n\t\t\t// 因为对象的遍历是无序的，为了得到有序列表，我们需要处理map\n\t\t\t// 热门的\n\t\t\tvar hot = [];\n\t\t\t// 剩下的\n\t\t\tvar ret = [];\n\t\t\tfor (var key in map) {\n\t\t\t\tvar val = map[key];\n\t\t\t\tif (val.title.match(/[a-zA-Z]/)) {\n\t\t\t\t\tret.push(val);\n\t\t\t\t} else if (val.title === HOT_NAME) {\n\t\t\t\t\thot.push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t\tret.sort(function (a, b) {\n\t\t\t\treturn a.title.charCodeAt(0) - b.title.charCodeAt(0);\n\t\t\t});\n\t\t\treturn hot.concat(ret);\n\t\t}\n\t}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_vuex__[\"b\" /* mapMutations */])({\n\t\t// 将mutation的修改映射成一个方法名\n\t\tsetSinger: 'SET_SINGER'\n\t})),\n\tcomponents: {\n\t\tListView: __WEBPACK_IMPORTED_MODULE_4_base_listview_listview___default.a\n\t}\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.887dd1fb142e813cc896.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.2.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51a6efa9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.12.2.1@vue-loader/lib/selector?type=styles&index=0!./singer.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.1@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.1@vue-loader/lib/selector?type=script&index=0!./singer.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51a6efa9\\\"}!../../../node_modules/.12.2.1@vue-loader/lib/selector?type=template&index=0!./singer.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-51a6efa9\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer/singer.vue\n// module id = 546\n// module chunks = 0","import jsonp from 'common/js/jsonp'\r\nimport {commonParams, options} from './config.js'\r\n\r\nexport function getSingerList() {\r\n\tconst url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\r\n\r\n\tconst data = Object.assign({}, commonParams, {\r\n\t\tchannel: 'singer',\r\n\t\tpage: 'list',\r\n\t\tkey: 'all_all_all',\r\n\t\tpagesize: 100,\r\n\t\tpagenum: 1,\r\n\t\thostUin: 0,\r\n\t\tplatform: 'yqq',\r\n\t\tneedNewCode: 0,\r\n\t\tg_tk: 5381\r\n\r\n\t})\r\n\treturn jsonp(url, data, options)\r\n}\r\n\r\nexport function getSingerDetail(singerId) {\r\n\tconst url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n\tconst data = Object.assign({}, commonParams, {\r\n\t\torder: 'listen',\r\n\t\tbegin: 0,\r\n\t\tnum: 80,\r\n\t\tsingermid: singerId,\r\n\t\tplatform: 'yqq',\r\n\t\tneedNewCode: 0,\r\n\t\thostUin: 0,\r\n\t\tsongstatus: 1\r\n\t})\r\n\treturn jsonp(url, data, options)\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/singer.js","exports = module.exports = require(\"../../../node_modules/.0.28.4@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".listview[data-v-50569384]{position:relative;width:100%;height:100%;overflow:hidden;background:#222}.listview .list-group .list-group-title[data-v-50569384]{height:30px;line-height:30px;padding-left:20px;font-size:12px;color:hsla(0,0%,100%,.5);background:#333}.listview .list-group .list-group-item[data-v-50569384]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;padding:15px 20px}.listview .list-group .list-group-item[data-v-50569384] :hover{background-color:#333}.listview .list-group .list-group-item .avatar[data-v-50569384]{-webkit-box-flex:0;-ms-flex:0 0 60px;flex:0 0 60px;width:60px;height:60px;border-radius:50%;margin-right:20px}.listview .list-group .list-group-item .name[data-v-50569384]{-webkit-box-flex:1;-ms-flex:1;flex:1;line-height:60px}.listview .list-shortcut[data-v-50569384]{position:absolute;top:50px;right:0;z-index:30;width:20px;padding:20px 0;border-radius:10px;text-align:center;background:rgba(0,0,0,.3);transfrom:translateY(-50%);color:hsla(0,0%,100%,.5)}.listview .list-shortcut .item[data-v-50569384]{padding:3px;line-height:1;color:hsla(0,0%,100%,.5);font-size:12px}.listview .list-shortcut .item.current[data-v-50569384]{color:#ffcd32}.listview .list-fixed[data-v-50569384]{position:absolute;top:0;left:0;height:30px;line-height:30px;width:100%;background:#333;color:hsla(0,0%,100%,.5);font-size:12px;padding-left:20px}.listview .loading[data-v-50569384]{position:relative;top:50px;left:0;width:100%}\", \"\", {\"version\":3,\"sources\":[\"D:/workspace/music-player/src/base/listview/listview.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAiB,CAClB,AACD,yDACE,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAA6B,AAC7B,eAAiB,CAClB,AACD,wDACE,WAAY,AACZ,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,iBAAmB,CACpB,AACD,+DACE,qBAAuB,CACxB,AACD,gEACE,mBAAoB,AAChB,kBAAmB,AACf,cAAe,AACvB,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,iBAAmB,CACpB,AACD,8DACE,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,gBAAkB,CACnB,AACD,0CACE,kBAAmB,AACnB,SAAU,AACV,QAAW,AACX,WAAY,AACZ,WAAY,AACZ,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,0BAA4B,AAC5B,2BAA4B,AAC5B,wBAA6B,CAC9B,AACD,gDACE,YAAa,AACb,cAAe,AACf,yBAA6B,AAC7B,cAAgB,CACjB,AACD,wDACE,aAAe,CAChB,AACD,uCACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,gBAAiB,AACjB,yBAA6B,AAC7B,eAAgB,AAChB,iBAAmB,CACpB,AACD,oCACE,kBAAmB,AACnB,SAAU,AACV,OAAQ,AACR,UAAY,CACb\",\"file\":\"listview.vue\",\"sourcesContent\":[\"\\n.listview[data-v-50569384] {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #222;\\n}\\n.listview .list-group .list-group-title[data-v-50569384] {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: rgba(255,255,255,0.5);\\n  background: #333;\\n}\\n.listview .list-group .list-group-item[data-v-50569384] {\\n  width: 100%;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  padding: 15px 20px;\\n}\\n.listview .list-group .list-group-item[data-v-50569384] :hover {\\n  background-color: #333;\\n}\\n.listview .list-group .list-group-item .avatar[data-v-50569384] {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 60px;\\n          flex: 0 0 60px;\\n  width: 60px;\\n  height: 60px;\\n  border-radius: 50%;\\n  margin-right: 20px;\\n}\\n.listview .list-group .list-group-item .name[data-v-50569384] {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  line-height: 60px;\\n}\\n.listview .list-shortcut[data-v-50569384] {\\n  position: absolute;\\n  top: 50px;\\n  right: 0px;\\n  z-index: 30;\\n  width: 20px;\\n  padding: 20px 0;\\n  border-radius: 10px;\\n  text-align: center;\\n  background: rgba(0,0,0,0.3);\\n  transfrom: translateY(-50%);\\n  color: rgba(255,255,255,0.5);\\n}\\n.listview .list-shortcut .item[data-v-50569384] {\\n  padding: 3px;\\n  line-height: 1;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 12px;\\n}\\n.listview .list-shortcut .item.current[data-v-50569384] {\\n  color: #ffcd32;\\n}\\n.listview .list-fixed[data-v-50569384] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 30px;\\n  line-height: 30px;\\n  width: 100%;\\n  background: #333;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 12px;\\n  padding-left: 20px;\\n}\\n.listview .loading[data-v-50569384] {\\n  position: relative;\\n  top: 50px;\\n  left: 0;\\n  width: 100%;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-50569384\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.2.5.1@stylus-loader?{\"sourceMap\":true}!./~/.12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/base/listview/listview.vue\n// module id = 562\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/.0.28.4@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".singer[data-v-51a6efa9]{position:fixed;top:88px;bottom:0;width:100%}\", \"\", {\"version\":3,\"sources\":[\"D:/workspace/music-player/src/components/singer/singer.vue\"],\"names\":[],\"mappings\":\"AACA,yBACE,eAAgB,AAChB,SAAU,AACV,SAAU,AACV,UAAY,CACb\",\"file\":\"singer.vue\",\"sourcesContent\":[\"\\n.singer[data-v-51a6efa9] {\\n  position: fixed;\\n  top: 88px;\\n  bottom: 0;\\n  width: 100%;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-51a6efa9\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.2.5.1@stylus-loader?{\"sourceMap\":true}!./~/.12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/components/singer/singer.vue\n// module id = 563\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.2.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50569384\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.12.2.1@vue-loader/lib/selector?type=styles&index=0!./listview.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.1@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.1@vue-loader/lib/selector?type=script&index=0!./listview.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50569384\\\"}!../../../node_modules/.12.2.1@vue-loader/lib/selector?type=template&index=0!./listview.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-50569384\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/listview/listview.vue\n// module id = 567\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('scroll', {\n    ref: \"listview\",\n    staticClass: \"listview\",\n    attrs: {\n      \"data\": _vm.data,\n      \"listenScroll\": _vm.listenScroll,\n      \"probeType\": _vm.probeType\n    },\n    on: {\n      \"scroll\": _vm.scroll\n    }\n  }, [_c('ul', _vm._l((_vm.data), function(group) {\n    return _c('li', {\n      ref: \"listgroup\",\n      refInFor: true,\n      staticClass: \"list-group\"\n    }, [_c('h2', {\n      staticClass: \"list-group-title\"\n    }, [_vm._v(_vm._s(group.title))]), _vm._v(\" \"), _c('ul', _vm._l((group.items), function(item) {\n      return _c('li', {\n        staticClass: \"list-group-item\",\n        on: {\n          \"click\": function($event) {\n            _vm.selectItem(item)\n          }\n        }\n      }, [_c('img', {\n        directives: [{\n          name: \"lazy\",\n          rawName: \"v-lazy\",\n          value: (item.avatar),\n          expression: \"item.avatar\"\n        }],\n        staticClass: \"avatar\"\n      }), _vm._v(\" \"), _c('span', {\n        staticClass: \"name\"\n      }, [_vm._v(_vm._s(item.name))])])\n    }))])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"list-shortcut\",\n    on: {\n      \"touchstart\": _vm.onShortcutTouchStart,\n      \"touchmove\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.onShortcutTouchMove($event)\n      }\n    }\n  }, [_c('ul', _vm._l((_vm.shortcutList), function(item, index) {\n    return _c('li', {\n      staticClass: \"item\",\n      class: {\n        'current': _vm.currentIndex === index\n      },\n      attrs: {\n        \"data-index\": index\n      }\n    }, [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(item) + \"\\n\\t\\t\\t\")])\n  }))]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.fixedTitle),\n      expression: \"fixedTitle \"\n    }],\n    ref: \"fixed\",\n    staticClass: \"list-fixed\"\n  }, [_c('h1', {\n    staticClass: \"fixed-title\"\n  }, [_vm._v(_vm._s(_vm.fixedTitle))])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.data.length),\n      expression: \"!data.length\"\n    }],\n    staticClass: \"loading\"\n  }, [_c('loading')], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-50569384\"}!./~/.12.2.1@vue-loader/lib/selector.js?type=template&index=0!./src/base/listview/listview.vue\n// module id = 574\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"singer\",\n    staticClass: \"singer\"\n  }, [_c('list-view', {\n    ref: \"list\",\n    attrs: {\n      \"data\": _vm.singers\n    },\n    on: {\n      \"select\": _vm.selectSinger\n    }\n  }), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-51a6efa9\"}!./~/.12.2.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/singer/singer.vue\n// module id = 575\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.28.4@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.2.1@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50569384\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.2.5.1@stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/.12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./listview.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"0473942a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/.3.0.1@vue-style-loader!./~/.0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-50569384\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.2.5.1@stylus-loader?{\"sourceMap\":true}!./~/.12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/base/listview/listview.vue\n// module id = 584\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.28.4@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.2.1@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51a6efa9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.2.5.1@stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/.12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./singer.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"a1f60a0c\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/.3.0.1@vue-style-loader!./~/.0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-51a6efa9\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.2.5.1@stylus-loader?{\"sourceMap\":true}!./~/.12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/components/singer/singer.vue\n// module id = 585\n// module chunks = 0","<!-- 滚动的基础组件 -->\r\n<template>\r\n\t<scroll class=\"listview\" :data=\"data\" ref=\"listview\" :listenScroll=\"listenScroll\" :probeType=\"probeType\" @scroll=\"scroll\">\r\n\t\t<ul>\r\n\t\t\t<li v-for=\"group in data\" class=\"list-group\" ref=\"listgroup\">\r\n\t\t\t\t<h2 class=\"list-group-title\">{{group.title}}</h2>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li v-for=\"item in group.items\" class=\"list-group-item\" @click=\"selectItem(item)\">\r\n\t\t\t\t\t\t<img class=\"avatar\" v-lazy=\"item.avatar\" />\r\n\t\t\t\t\t\t<span class=\"name\">{{item.name}}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<!-- 右侧字母导航 -->\r\n\t\t<div class=\"list-shortcut\" @touchstart=\"onShortcutTouchStart\"\r\n\t\t@touchmove.stop.prevent=\"onShortcutTouchMove\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(item, index) in shortcutList\" class=\"item\" :data-index=\"index\"  :class=\"{'current' : currentIndex === index}\">\r\n\t\t\t\t\t{{item}}\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div class=\"list-fixed\" v-show=\"fixedTitle \"ref=\"fixed\">\r\n\t\t\t<h1 class=\"fixed-title\">{{fixedTitle}}</h1>\r\n\t\t</div>\r\n\t\t<!-- 加载中 -->\r\n\t\t<div v-show=\"!data.length\" class=\"loading\">\r\n\t\t\t<loading></loading>\r\n\t\t</div>\r\n\t</scroll>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport Scroll from 'base/scroll/scroll'\r\nimport Loading from 'base/loading/loading'\r\nimport {getData} from 'common/js/dom.js'\r\n\r\nconst ANCHOR_HEIGHT = 18\r\nconst TITLE_HEIGHT = 30\r\nexport default {\r\n\tprops: {\r\n\t\tdata: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: []\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tscrollY: -1,\r\n\t\t\tcurrentIndex: 0,\r\n\t\t\tdiff: -1\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.touch = {}\r\n\t\tthis.listenScroll = true\r\n\t\tthis.listHeight = []\r\n\t\tthis.probeType = 3\r\n\t},\r\n\tcomputed: {\r\n\t\tshortcutList() {\r\n\t\t\treturn this.data.map((group) => {\r\n\t\t\t\treturn group.title.substring(0, 1)\r\n\t\t\t})\r\n\t\t},\r\n\t\tfixedTitle() {\r\n\t\t\tif (this.scrollY > 0) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\treturn this.data[this.currentIndex] ? this.data[this.currentIndex].title : ''\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 右侧导航相关操作事件\r\n\t\tonShortcutTouchStart(e) {\r\n\t\t\tlet anchorIndex = getData(e.target, 'index')\r\n\t\t\t// e.touches[0]是手指最初的位置 要保存其pageY\r\n\t\t\tlet firstTouch = e.touches[0]\r\n\t\t\tthis.touch.y1 = firstTouch.pageY\r\n\t\t\t// 初始化记录当前锚点索引\r\n\t\t\tthis.touch.anchorIndex = anchorIndex\r\n\t\t\tthis._scrollTo(anchorIndex)\r\n\t\t},\r\n\t\tonShortcutTouchMove(e) {\r\n\t\t\t// 计算从touchstart到touchmove滚动的位置，计算当前位置与一开始滚动的位置的距离差\r\n\t\t\tlet firstTouch = e.touches[0]\r\n\t\t\tthis.touch.y2 = firstTouch.pageY\r\n\t\t\tlet delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0\r\n\t\t\t// 再次记录move的时候的锚点索引 this.touch.anchorIndex是一个字符串 delta是一个数字 两者直接相加会出错\r\n\t\t\tlet anchorIndex = parseInt(this.touch.anchorIndex) + delta\r\n\t\t\t// 可以得到move的时候可以滚动到第几个位置\r\n\t\t\tthis._scrollTo(anchorIndex)\r\n\t\t},\r\n\t\trefresh() {\r\n\t\t\tthis.$refs.listview.refresh()\r\n\t\t},\r\n\t\tscroll(pos) {\r\n\t\t\tthis.scrollY = pos.y\r\n\t\t},\r\n\t\t// 滚动到指定位置\r\n\t\t_scrollTo(index) {\r\n\t\t\tconsole.log(index)\r\n\t\t\tif (!index && index !== 0) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (index < 0) {\r\n\t\t\t\tindex = 0\r\n\t\t\t} else if (index > this.listHeight - 2) {\r\n\t\t\t\tindex = this.listHeight - 2\r\n\t\t\t}\r\n\t\t\tthis.scrollY = -this.listHeight[index]\r\n\t\t\t// this.$refs.listgroup[anchorIndex] ????????\r\n\t\t\tthis.$refs.listview.scrollToElement(this.$refs.listgroup[index], 0)\r\n\t\t},\r\n\t\t// 调用时机： 当传给listview的data发生变化的时候要去计算高度\r\n\t\t_calculateHeight() {\r\n\t\t\tthis.listHeight = []\r\n\t\t\tconst list = this.$refs.listgroup\r\n\t\t\tlet height = 0\r\n\t\t\tthis.listHeight.push(height)\r\n\t\t\tfor (let i = 0; i < list.length; i++) {\r\n\t\t\t\tlet item = list[i]\r\n\t\t\t\theight += item.clientHeight\r\n\t\t\t\tthis.listHeight.push(height)\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 派发事件\r\n\t\tselectItem(item) {\r\n\t\t\tthis.$emit('select', item)\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t// 当data变化的时候 重新计算高度\r\n\t\tdata() {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis._calculateHeight()\r\n\t\t\t}, 20)\r\n\t\t},\r\n\t\tscrollY(newY) {\r\n\t\t\tconst listHeight = this.listHeight\r\n\t\t\t// 当滚动到顶部 newY > 0\r\n\t\t\tif (newY > 0) {\r\n\t\t\t\tthis.currentIndex = 0\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t// 当在中间部分滚动时\r\n\t\t\tfor (let i = 0; i < listHeight.length - 1; i++) {\r\n\t\t\t\tlet h1 = listHeight[i]\r\n\t\t\t\tlet h2 = listHeight[i + 1]\r\n\t\t\t\t// !h2 变量的最后一个的情况 newY是一个负值 盖度计算都是正值\r\n\t\t\t\tif (-newY >= h1 && -newY < h2) {\r\n\t\t\t\t\tthis.currentIndex = i\r\n\t\t\t\t\t// 在中间滚动的时候 上限h2 减去滚动的高度newY（负值） 就是 diff\r\n\t\t\t\t\tthis.diff = h2 + newY\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 当滚动到底部 且 -newY大于最后一个元素的上限\r\n\t\t\tthis.currentIndex = listHeight.length - 2\r\n\t\t},\r\n\t\tdiff(newVal) {\r\n\t\t\t// 向上偏移是负值\r\n\t\t\tlet fixedTop = (newVal > 0 && newVal < TITLE_HEIGHT) ? newVal - TITLE_HEIGHT : 0\r\n\t\t\t//  diff是实时变化的 当new\r\n\t\t\tif (this.fixedTop === fixedTop) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.fixedTop = fixedTop\r\n\t\t\tthis.$refs.fixed.style.transform = `translate3d(0, ${fixedTop}px, 0)`\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tScroll,\r\n\t\tLoading\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n@import '../../common/stylus/variable'\r\n.listview\r\n\tposition: relative\r\n\twidth: 100%\r\n\theight: 100%\r\n\toverflow: hidden\r\n\tbackground: $color-background\r\n\t.list-group\r\n\t\t/* padding-left: 20px */\r\n\t\t.list-group-title\r\n\t\t\theight: 30px\r\n\t\t\tline-height: 30px\r\n\t\t\tpadding-left: 20px\r\n\t\t\tfont-size: $font-size-small\r\n\t\t\tcolor: $color-text-l\r\n\t\t\tbackground: $color-highlight-background\r\n\t\t.list-group-item\r\n\t\t\twidth: 100%\r\n\t\t\tdisplay: flex\r\n\t\t\tpadding: 15px 20px\r\n\t\t\t:hover\r\n\t\t\t\tbackground-color: $color-highlight-background\r\n\t\t\t.avatar\r\n\t\t\t\tflex: 0 0 60px\r\n\t\t\t\twidth: 60px\r\n\t\t\t\theight: 60px\r\n\t\t\t\tborder-radius: 50%\r\n\t\t\t\tmargin-right: 20px\r\n\t\t\t.name\r\n\t\t\t\tflex: 1\r\n\t\t\t\tline-height: 60px\r\n\t.list-shortcut\r\n\t\tposition: absolute;\r\n\t\ttop: 50px\r\n\t\tright: 0px\r\n\t\tz-index: 30\r\n\t\twidth: 20px\r\n\t\tpadding: 20px 0\r\n\t\tborder-radius: 10px\r\n\t\ttext-align: center\r\n\t\tbackground: $color-background-d\r\n\t\ttransfrom: translateY(-50%)\r\n\t\tcolor: $color-text-l\r\n\t\t.item\r\n\t\t\tpadding: 3px\r\n\t\t\tline-height: 1\r\n\t\t\tcolor: $color-text-l\r\n\t\t\tfont-size: $font-size-small\r\n\t\t\t&.current\r\n\t\t\t\tcolor: $color-theme\r\n\t.list-fixed\r\n\t\tposition: absolute\r\n\t\ttop: 0\r\n\t\tleft: 0\r\n\t\theight: 30px\r\n\t\tline-height: 30px\r\n\t\twidth: 100%\r\n\t\tbackground: $color-highlight-background\r\n\t\tcolor: $color-text-l\r\n\t\tfont-size: $font-size-small\r\n\t\tpadding-left: 20px\r\n\t.loading\r\n\t\tposition: relative\r\n\t\ttop: 50px\r\n\t\tleft: 0\r\n\t\twidth: 100%\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// listview.vue?0f121f21","<template>\r\n  <div class=\"singer\" ref=\"singer\">\r\n  \t<list-view :data=\"singers\" @select=\"selectSinger\" ref=\"list\"></list-view>\r\n  \t<router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport {getSingerList} from 'api/singer.js'\r\nimport {ERR_OK} from 'api/config'\r\nimport Singer from 'common/js/singer.js'\r\nimport ListView from 'base/listview/listview'\r\n// vuex的语法糖 vuex对数据的获取和修改提供了一系列的语法糖\r\n// 如果不用语法糖 需要写很长的代码 mapMutations对mutations做了一层封装\r\nimport {mapMutations} from 'vuex'\r\nimport {playListMixin} from 'common/js/mixin'\r\n\r\nconst HOT_NAME = '热门'\r\nconst HOT_SINGER_LEN = 10\r\n\r\nexport default {\r\n\tmixins: [playListMixin],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsingers: []\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis._getSingerList()\r\n\t},\r\n\tmethods: {\r\n\t\t// 当播放歌曲页面在底部最小化显示时 控制本组件的底部距离视口底部一定的距离 避免内容被底部的最小化歌曲播放条遮住\r\n\t\thandlePlayList(playList) {\r\n\t\t\t// 设置组件距离视口底部的距离\r\n\t\t\tconst bottom = playList.length > 0 ? '60px' : ''\r\n\t\t\tthis.$refs.singer.style.bottom = bottom\r\n\t\t\t// 刷新列表vielist组件\r\n\t\t\tthis.$refs.list.refresh()\r\n\t\t},\r\n\t\tselectSinger(singer) {\r\n\t\t\tthis.$router.push({\r\n\t\t\t\tpath: `/singer/${singer.id}`\r\n\t\t\t})\r\n\t\t\tthis.setSinger(singer)  // 就实现了对mutation的提交\r\n\t\t},\r\n\t\t_getSingerList() {\r\n\t\t\tgetSingerList().then((res) => {\r\n\t\t\t\tif (res.code === ERR_OK) {\r\n\t\t\t\t\tthis.singers = this._normalizeSinger(res.data.list)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 将得到的数据修改为我们需要的\r\n\t\t_normalizeSinger(list) {\r\n\t\t\tlet map = {\r\n\t\t\t\thot: {\r\n\t\t\t\t\ttitle: HOT_NAME,\r\n\t\t\t\t\titems: []\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlist.forEach((item, index) => {\r\n\t\t\t\tif (index < HOT_SINGER_LEN) {\r\n\t\t\t\t\tmap.hot.items.push(new Singer({\r\n\t\t\t\t\t\tid: item.Fsinger_mid,\r\n\t\t\t\t\t\tname: item.Fsinger_name\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\tconst key = item.Findex\r\n\t\t\t\t// 如果没有以这个key为聚合的对象的话 就创建一个\r\n\t\t\t\tif (!map[key]) {\r\n\t\t\t\t\tmap[key] = {\r\n\t\t\t\t\t\ttitle: key,\r\n\t\t\t\t\t\titems: []\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tmap[key].items.push(new Singer({\r\n\t\t\t\t\tid: item.Fsinger_mid,\r\n\t\t\t\t\tname: item.Fsinger_name\r\n\t\t\t\t}))\r\n\t\t\t})\r\n\t\t\t// 因为对象的遍历是无序的，为了得到有序列表，我们需要处理map\r\n\t\t\t// 热门的\r\n\t\t\tlet hot = []\r\n\t\t\t// 剩下的\r\n\t\t\tlet ret = []\r\n\t\t\tfor (let key in map) {\r\n\t\t\t\tlet val = map[key]\r\n\t\t\t\tif (val.title.match(/[a-zA-Z]/)) {\r\n\t\t\t\t\tret.push(val)\r\n\t\t\t\t} else if (val.title === HOT_NAME) {\r\n\t\t\t\t\thot.push(val)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tret.sort((a, b) => {\r\n\t\t\t\treturn a.title.charCodeAt(0) - b.title.charCodeAt(0)\r\n\t\t\t})\r\n\t\t\treturn hot.concat(ret)\r\n\t\t},\r\n\t\t...mapMutations({\r\n\t\t\t// 将mutation的修改映射成一个方法名\r\n\t\t\tsetSinger: 'SET_SINGER'\r\n\t\t})\r\n\t},\r\n    components: {\r\n        ListView\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n.singer\r\n\tposition: fixed\r\n\ttop: 88px\r\n\tbottom: 0\r\n\twidth: 100%\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// singer.vue?e97fa974"],"sourceRoot":""}